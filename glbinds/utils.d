// WTFPL or Public Domain, on your choice
module iv.glbinds.utils /*is aliced*/;
nothrow @trusted @nogc:

//import iv.alice;
import iv.glbinds;


//enum GL_PI = 3.14159265358979323846;
enum GL_PI = 3.1415926535897932384626433832795;


// ////////////////////////////////////////////////////////////////////////// //
void oglSetup2D(bool upsideDown=false) (int winWidth, int winHeight) {
  glViewport(0, 0, winWidth, winHeight);

  glDisable(GL_BLEND);
  glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
  glDisable(GL_LINE_SMOOTH);
  glDisable(GL_POINT_SMOOTH);
  glDisable(GL_DEPTH_TEST);
  glDisable(GL_TEXTURE_2D);
  glDisable(GL_LIGHTING);
  glDisable(GL_DITHER);
  glDisable(GL_STENCIL_TEST);
  glDisable(GL_SCISSOR_TEST);
  glDisable(GL_CULL_FACE);

  glMatrixMode(GL_PROJECTION);
  glLoadIdentity();
  static if (upsideDown) {
    glOrtho(0, winWidth, 0, winHeight, -1, 1); // set origin to bottom left
  } else {
    glOrtho(0, winWidth, winHeight, 0, -1, 1); // set origin to top left
  }

  glMatrixMode(GL_MODELVIEW);
  glLoadIdentity();

  glClearColor(0, 0, 0, 0);
  glColor4f(1, 1, 1, 1);
}


// ////////////////////////////////////////////////////////////////////////// //
// replacement for `gluPerspective()`
// sets the frustum to perspective mode.
// fovY   - Field of vision in degrees in the y direction
// aspect - Aspect ratio of the viewport
// zNear  - The near clipping distance
// zFar   - The far clipping distance
/+
void oglPerspective (GLdouble fovY, GLdouble aspect, GLdouble zNear, GLdouble zFar) nothrow @trusted @nogc {
  import core.stdc.math : tan;

  //const GLdouble pi = 3.1415926535897932384626433832795;
  //double fW, fH; // half of the size of the x and y clipping planes.
  // calculate the distance from 0 of the y clipping plane.
  // basically trig to calculate position of clipper at zNear.
  // Note: tan(double) uses radians but OpenGL works in degrees so we convert
  //       degrees to radians by dividing by 360 then multiplying by PI
  //fH = tan((fovY/2)/180*PI)*zNear;
  immutable GLdouble fH = tan(fovY/360.0*GL_PI)*zNear;
  // calculate the distance from 0 of the x clipping plane based on the aspect ratio
  immutable GLdouble fW = fH*aspect;
  // finally call glFrustum, this is all gluPerspective does anyway!
  // this is why we calculate half the distance between the clipping planes,
  // glFrustum takes an offset from zero for each clipping planes distance (saves 2 divides)
  glFrustum(-fW, fW, -fH, fH, zNear, zFar);
}
+/


// ////////////////////////////////////////////////////////////////////////// //
// replacement for `gluLookAt()`
/+
void oglLookAt (
  GLfloat eyex, GLfloat eyey, GLfloat eyez,
  GLfloat centerx, GLfloat centery, GLfloat centerz,
  GLfloat upx, GLfloat upy, GLfloat upz
) {
  import core.math : sqrt;

  GLfloat[16] m = void;
  GLfloat[3] x = void, y = void, z = void;
  GLfloat mag;
  // make rotation matrix
  // Z vector
  z.ptr[0] = eyex-centerx;
  z.ptr[1] = eyey-centery;
  z.ptr[2] = eyez-centerz;
  mag = sqrt(z.ptr[0]*z.ptr[0]+z.ptr[1]*z.ptr[1]+z.ptr[2]*z.ptr[2]);
  if (mag != 0.0f) {
    z.ptr[0] /= mag;
    z.ptr[1] /= mag;
    z.ptr[2] /= mag;
  }
  // Y vector
  y.ptr[0] = upx;
  y.ptr[1] = upy;
  y.ptr[2] = upz;
  // X vector = Y cross Z
  x.ptr[0] =  y.ptr[1]*z.ptr[2]-y.ptr[2]*z.ptr[1];
  x.ptr[1] = -y.ptr[0]*z.ptr[2]+y.ptr[2]*z.ptr[0];
  x.ptr[2] =  y.ptr[0]*z.ptr[1]-y.ptr[1]*z.ptr[0];
  // Recompute Y = Z cross X
  y.ptr[0] =  z.ptr[1]*x.ptr[2]-z.ptr[2]*x.ptr[1];
  y.ptr[1] = -z.ptr[0]*x.ptr[2]+z.ptr[2]*x.ptr[0];
  y.ptr[2] =  z.ptr[0]*x.ptr[1]-z.ptr[1]*x.ptr[0];

  /* cross product gives area of parallelogram, which is < 1.0 for
   * non-perpendicular unit-length vectors; so normalize x, y here
   */
  mag = sqrt(x.ptr[0]*x.ptr[0]+x.ptr[1]*x.ptr[1]+x.ptr[2]*x.ptr[2]);
  if (mag != 0.0f) {
    x.ptr[0] /= mag;
    x.ptr[1] /= mag;
    x.ptr[2] /= mag;
  }

  mag = sqrt(y.ptr[0]*y.ptr[0]+y.ptr[1]*y.ptr[1]+y.ptr[2]*y.ptr[2]);
  if (mag != 0.0f) {
    y.ptr[0] /= mag;
    y.ptr[1] /= mag;
    y.ptr[2] /= mag;
  }

  m.ptr[0*4+0] = x.ptr[0];
  m.ptr[1*4+0] = x.ptr[1];
  m.ptr[2*4+0] = x.ptr[2];
  m.ptr[3*4+0] = 0.0f;
  m.ptr[0*4+1] = y.ptr[0];
  m.ptr[1*4+1] = y.ptr[1];
  m.ptr[2*4+1] = y.ptr[2];
  m.ptr[3*4+1] = 0.0f;
  m.ptr[0*4+2] = z.ptr[0];
  m.ptr[1*4+2] = z.ptr[1];
  m.ptr[2*4+2] = z.ptr[2];
  m.ptr[3*4+2] = 0.0f;
  m.ptr[0*4+3] = 0.0f;
  m.ptr[1*4+3] = 0.0f;
  m.ptr[2*4+3] = 0.0f;
  m.ptr[3*4+3] = 1.0f;

  glMultMatrixf(m.ptr);

  // translate Eye to Origin
  glTranslatef(-eyex, -eyey, -eyez);
}
+/


// ////////////////////////////////////////////////////////////////////////// //
private void normalize(GLfloat* v) {
  import core.math : sqrt;
  GLfloat r = sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2]);
  if (r == 0) return;
  r = 1.0f/r;
  v[0] *= r;
  v[1] *= r;
  v[2] *= r;
}


private void cross(GLfloat* v1, GLfloat* v2, GLfloat* result) {
  result[0] = v1[1]*v2[2]-v1[2]*v2[1];
  result[1] = v1[2]*v2[0]-v1[0]*v2[2];
  result[2] = v1[0]*v2[1]-v1[1]*v2[0];
}


// ////////////////////////////////////////////////////////////////////////// //
// make m an identity matrix
void oglMakeIdentity (GLdouble* m) {
  pragma(inline, true);
  m[0+4*0] = 1; m[0+4*1] = 0; m[0+4*2] = 0; m[0+4*3] = 0;
  m[1+4*0] = 0; m[1+4*1] = 1; m[1+4*2] = 0; m[1+4*3] = 0;
  m[2+4*0] = 0; m[2+4*1] = 0; m[2+4*2] = 1; m[2+4*3] = 0;
  m[3+4*0] = 0; m[3+4*1] = 0; m[3+4*2] = 0; m[3+4*3] = 1;
}


void oglMakeIdentity (GLfloat* m) {
  pragma(inline, true);
  m[0+4*0] = 1; m[0+4*1] = 0; m[0+4*2] = 0; m[0+4*3] = 0;
  m[1+4*0] = 0; m[1+4*1] = 1; m[1+4*2] = 0; m[1+4*3] = 0;
  m[2+4*0] = 0; m[2+4*1] = 0; m[2+4*2] = 1; m[2+4*3] = 0;
  m[3+4*0] = 0; m[3+4*1] = 0; m[3+4*2] = 0; m[3+4*3] = 1;
}


void oglMulMatVec (const(GLdouble)* matrix, const(GLdouble)* vin, GLdouble* vout) {
  foreach (immutable i; 0..4) {
    vout[i] =
        vin[0]*matrix[0*4+i]+
        vin[1]*matrix[1*4+i]+
        vin[2]*matrix[2*4+i]+
        vin[3]*matrix[3*4+i];
  }
}


// inverse = invert(src)
bool oglMatInvert (const(GLdouble)* src, GLdouble* inverse) {
  import core.math : fabs;

  GLdouble[4][4] temp = void;

  foreach (immutable i; 0..4) {
    foreach (immutable j; 0..4) {
      temp.ptr[i].ptr[j] = src[i*4+j];
    }
  }

  oglMakeIdentity(inverse);

  foreach (immutable i; 0..4) {
    // look for largest element in column
    int swap = i;
    foreach (immutable j; i+1..4) {
      if (fabs(temp.ptr[j].ptr[i]) > fabs(temp.ptr[i].ptr[i])) swap = j;
    }

    if (swap != i) {
      // swap rows
      foreach (immutable k; 0..4) {
        GLdouble tmp = temp.ptr[i].ptr[k];
        temp.ptr[i].ptr[k] = temp.ptr[swap].ptr[k];
        temp.ptr[swap].ptr[k] = tmp;

        tmp = inverse[i*4+k];
        inverse[i*4+k] = inverse[swap*4+k];
        inverse[swap*4+k] = tmp;
      }
    }

    if (temp.ptr[i].ptr[i] == 0) return false; // no non-zero pivot: the matrix is singular, which shouldn't happen -- this means the user gave us a bad matrix

    {
      GLdouble t = 1.0/temp.ptr[i].ptr[i];
      foreach (immutable k; 0..4) {
        temp.ptr[i].ptr[k] *= t;
        inverse[i*4+k] *= t;
      }
    }

    foreach (immutable j; 0..4) {
      if (j != i) {
        immutable GLdouble t = temp.ptr[j].ptr[i];
        foreach (immutable k; 0..4) {
          temp.ptr[j].ptr[k] -= temp.ptr[i].ptr[k]*t;
          inverse[j*4+k] -= inverse[i*4+k]*t;
        }
      }
    }
  }

  return true;
}


void oglMulMatMat (const(GLdouble)* a, const(GLdouble)* b, GLdouble* res) {
  foreach (immutable i; 0..4) {
    foreach (immutable j; 0..4) {
      res[i*4+j] =
          a[i*4+0]*b[0*4+j]+
          a[i*4+1]*b[1*4+j]+
          a[i*4+2]*b[2*4+j]+
          a[i*4+3]*b[3*4+j];
    }
  }
}


// ////////////////////////////////////////////////////////////////////////// //
void oglOrtho2D (GLdouble left, GLdouble right, GLdouble bottom, GLdouble top) {
  pragma(inline, true);
  glOrtho(left, right, bottom, top, -1, 1);
}


void oglPerspective (GLdouble fovy, GLdouble aspect, GLdouble zNear, GLdouble zFar) {
  import core.math : cos, sin;
  GLdouble radians = fovy/2.0*GL_PI/180.0;
  GLdouble deltaZ = zFar-zNear;
  GLdouble sine = sin(radians);
  if (deltaZ == 0 || sine == 0 || aspect == 0) return;
  GLdouble cotangent = cos(radians)/sine;
  GLdouble[4][4] m = void;
  oglMakeIdentity(&m[0][0]);
  m.ptr[0].ptr[0] = cotangent/aspect;
  m.ptr[1].ptr[1] = cotangent;
  m.ptr[2].ptr[2] = -(zFar+zNear)/deltaZ;
  m.ptr[2].ptr[3] = -1;
  m.ptr[3].ptr[2] = -2*zNear*zFar/deltaZ;
  m.ptr[3].ptr[3] = 0;
  glMultMatrixd(&m[0][0]);
}


void oglNormalZTests () {
  glDepthFunc(GL_LESS); // default would be GL_LESS
  glClearDepth(1.0f); // default would be 1.0f
  // OpenGL 4.5 feature; see "GL_ARB_clip_control" extension
  glClipControl(GL_LOWER_LEFT, GL_NEGATIVE_ONE_TO_ONE);
  //glClipControl(GL_LOWER_LEFT, GL_ZERO_TO_ONE); // actually, this is better even for "normal" cases
}


void oglReversedZTests () {
  glDepthFunc(GL_GREATER); // default would be GL_LESS
  glClearDepth(0.0f); // default would be 1.0f
  glClipControl(GL_LOWER_LEFT, GL_ZERO_TO_ONE);
}


// see https://nlguillemot.wordpress.com/2016/12/07/reversed-z-in-opengl/
void oglPerspectiveReversedZ (GLdouble fovy, GLdouble aspect, GLdouble zNear) {
  version(none) {
    import std.math : tan;
    immutable GLdouble f = 1.0/tan(deg2rad(fovy)/2.0); // 1.0 / tan(X) == cotangent(X)
    //GLdouble aspect = cast(float)GWidth/cast(float)GHeight;
    // infinite perspective matrix reversed
    immutable GLdouble[16] projMat = [
      f/aspect, 0.0,   0.0,  0.0,
           0.0,   f,   0.0,  0.0,
           0.0, 0.0,   0.0, -1.0,
           0.0, 0.0, zNear,  0.0,
    ];
    //glMatrixMode(GL_PROJECTION);
    //glLoadIdentity();
    glMultMatrixd(projMat.ptr);
  } else {
    import core.math : cos, sin;
    GLdouble radians = fovy/2.0*GL_PI/180.0;
    GLdouble sine = sin(radians);
    if (sine == 0 || aspect == 0) return;
    GLdouble cotangent = cos(radians)/sine;
    GLdouble[16] m = 0.0;
    m.ptr[0] = cotangent/aspect;
    m.ptr[5] = cotangent;
    m.ptr[11] = -1;
    m.ptr[14] = zNear;
    glMultMatrixd(m.ptr);
  }
}


void oglLookAt (
  GLdouble eyex, GLdouble eyey, GLdouble eyez, GLdouble centerx,
  GLdouble centery, GLdouble centerz, GLdouble upx, GLdouble upy,
  GLdouble upz)
{
  int i;
  GLfloat[3] forward = void, side = void, up = void;

  forward.ptr[0] = centerx-eyex;
  forward.ptr[1] = centery-eyey;
  forward.ptr[2] = centerz-eyez;

  up.ptr[0] = upx;
  up.ptr[1] = upy;
  up.ptr[2] = upz;

  normalize(forward.ptr);

  // side = forward x up
  cross(forward.ptr, up.ptr, side.ptr);
  normalize(side.ptr);

  // recompute up as: up = side x forward
  cross(side.ptr, forward.ptr, up.ptr);

  GLfloat[4][4] m = void;
  oglMakeIdentity(&m[0][0]);

  m.ptr[0].ptr[0] = side.ptr[0];
  m.ptr[1].ptr[0] = side.ptr[1];
  m.ptr[2].ptr[0] = side.ptr[2];

  m.ptr[0].ptr[1] = up.ptr[0];
  m.ptr[1].ptr[1] = up.ptr[1];
  m.ptr[2].ptr[1] = up.ptr[2];

  m.ptr[0].ptr[2] = -forward.ptr[0];
  m.ptr[1].ptr[2] = -forward.ptr[1];
  m.ptr[2].ptr[2] = -forward.ptr[2];

  glMultMatrixf(&m[0][0]);
  glTranslated(-eyex, -eyey, -eyez);
}


bool oglProject (
  GLdouble objx, GLdouble objy, GLdouble objz,
  const(GLdouble)* modelMatrix,
  const(GLdouble)* projMatrix,
  const(GLint)[] viewport,
  GLdouble* winx, GLdouble* winy, GLdouble* winz)
{
  if (viewport.length < 4 || modelMatrix is null || projMatrix is null) return false;

  GLdouble[4] vin = void, vout = void;

  vin.ptr[0] = objx;
  vin.ptr[1] = objy;
  vin.ptr[2] = objz;
  vin.ptr[3] = 1.0;

  oglMulMatVec(modelMatrix, vin.ptr, vout.ptr);
  oglMulMatVec(projMatrix, vout.ptr, vin.ptr);
  if (vin.ptr[3] == 0.0) return false;

  if (winx !is null || winy !is null || winz !is null) {
    vin.ptr[0] /= vin.ptr[3];
    vin.ptr[1] /= vin.ptr[3];
    vin.ptr[2] /= vin.ptr[3];

    // map x, y and z to range 0-1
    vin.ptr[0] = vin.ptr[0]*0.5+0.5;
    vin.ptr[1] = vin.ptr[1]*0.5+0.5;
    vin.ptr[2] = vin.ptr[2]*0.5+0.5;

    // map x,y to viewport
    vin.ptr[0] = vin.ptr[0]*viewport.ptr[2]+viewport.ptr[0];
    vin.ptr[1] = vin.ptr[1]*viewport.ptr[3]+viewport.ptr[1];

    if (winx !is null) *winx = vin.ptr[0];
    if (winy !is null) *winy = vin.ptr[1];
    if (winz !is null) *winz = vin.ptr[2];
  }

  return true;
}


bool oglUnProject (
  GLdouble winx, GLdouble winy, GLdouble winz,
  const(GLdouble)* modelMatrix,
  const(GLdouble)* projMatrix,
  const(GLint)[] viewport,
  GLdouble* objx, GLdouble* objy, GLdouble* objz)
{
  if (viewport.length < 4 || modelMatrix is null || projMatrix is null) return false;

  GLdouble[16] finalMatrix = void;
  GLdouble[4] vin = void, vout = void;

  oglMulMatMat(modelMatrix, projMatrix, finalMatrix.ptr);
  if (!oglMatInvert(finalMatrix.ptr, finalMatrix.ptr)) return false;

  vin.ptr[0] = winx;
  vin.ptr[1] = winy;
  vin.ptr[2] = winz;
  vin.ptr[3] = 1.0;

  // map x and y from window coordinates
  vin.ptr[0] = (vin.ptr[0]-viewport.ptr[0])/viewport.ptr[2];
  vin.ptr[1] = (vin.ptr[1]-viewport.ptr[1])/viewport.ptr[3];

  // map to range -1 to 1
  vin.ptr[0] = vin.ptr[0]*2.0-1.0;
  vin.ptr[1] = vin.ptr[1]*2.0-1.0;
  vin.ptr[2] = vin.ptr[2]*2.0-1.0;

  oglMulMatVec(finalMatrix.ptr, vin.ptr, vout.ptr);
  if (vout.ptr[3] == 0.0) return false;

  if (objx !is null || objy !is null || objz !is null) {
    vout.ptr[0] /= vout.ptr[3];
    vout.ptr[1] /= vout.ptr[3];
    vout.ptr[2] /= vout.ptr[3];
    if (objx !is null) *objx = vout.ptr[0];
    if (objy !is null) *objy = vout.ptr[1];
    if (objz !is null) *objz = vout.ptr[2];
  }

  return true;
}


bool oglUnProject4 (
  GLdouble winx, GLdouble winy, GLdouble winz, GLdouble clipw,
  const(GLdouble)* modelMatrix,
  const(GLdouble)* projMatrix,
  const(GLint)[] viewport,
  GLclampd near, GLclampd far,
  GLdouble* objx, GLdouble* objy, GLdouble* objz, GLdouble* objw)
{
  if (viewport.length < 4 || modelMatrix is null || projMatrix is null) return false;

  GLdouble[16] finalMatrix = void;
  GLdouble[4] vin = void, vout = void;

  oglMulMatMat(modelMatrix, projMatrix, finalMatrix.ptr);
  if (!oglMatInvert(finalMatrix.ptr, finalMatrix.ptr)) return false;

  vin.ptr[0] = winx;
  vin.ptr[1] = winy;
  vin.ptr[2] = winz;
  vin.ptr[3] = clipw;

  // map x and y from window coordinates
  vin.ptr[0] = (vin.ptr[0]-viewport.ptr[0])/viewport.ptr[2];
  vin.ptr[1] = (vin.ptr[1]-viewport.ptr[1])/viewport.ptr[3];
  vin.ptr[2] = (vin.ptr[2]-near)/(far-near);

  // map to range -1 to 1
  vin.ptr[0] = vin.ptr[0]*2.0-1.0;
  vin.ptr[1] = vin.ptr[1]*2.0-1.0;
  vin.ptr[2] = vin.ptr[2]*2.0-1.0;

  oglMulMatVec(finalMatrix.ptr, vin.ptr, vout.ptr);
  if (vout.ptr[3] == 0.0) return false;

  if (objx !is null || objy !is null || objz !is null && objw !is null) {
    if (objx !is null) *objx = vout.ptr[0];
    if (objy !is null) *objy = vout.ptr[1];
    if (objz !is null) *objz = vout.ptr[2];
    if (objw !is null) *objw = vout.ptr[3];
  }

  return true;
}


bool oglPickMatrix (GLdouble x, GLdouble y, GLdouble deltax, GLdouble deltay, const(GLint)[] viewport) {
  if (deltax <= 0 || deltay <= 0 || viewport.length < 4) return false;

  // translate and scale the picked region to the entire window
  glTranslatef((viewport.ptr[2]-2*(x-viewport.ptr[0]))/deltax, (viewport.ptr[3]-2*(y-viewport.ptr[1]))/deltay, 0);
  glScalef(viewport.ptr[2]/deltax, viewport.ptr[3]/deltay, 1.0);

  return true;
}


// ////////////////////////////////////////////////////////////////////////// //
version(LittleEndian) {
public enum glFont10Width = 10;
public enum glFont10Height = 10;

public __gshared immutable ushort[256*10] glFont10 = [
  0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0078,0x0084,0x0132,0x017a,0x0102,0x014a,0x0102,0x00fc,
  0x0000,0x0000,0x0078,0x00fc,0x01ce,0x0186,0x01fe,0x01b6,0x01fe,0x00fc,0x0000,0x0000,0x0010,0x0038,0x007c,0x00fe,0x01ff,0x01ff,0x01ff,
  0x00ee,0x0000,0x0000,0x0010,0x0038,0x007c,0x00fe,0x01ff,0x00fe,0x007c,0x0038,0x0010,0x0000,0x0038,0x0010,0x00d6,0x01ff,0x00fe,0x0038,
  0x007c,0x0038,0x0000,0x0000,0x0038,0x0010,0x00d6,0x01ff,0x01ff,0x00fe,0x007c,0x0038,0x0010,0x0000,0x0000,0x0000,0x0030,0x0078,0x0078,
  0x0030,0x0000,0x0000,0x0000,0x03ff,0x03ff,0x03ff,0x03cf,0x0387,0x0387,0x03cf,0x03ff,0x03ff,0x03ff,0x0000,0x0000,0x0078,0x00cc,0x0084,
  0x0084,0x00cc,0x0078,0x0000,0x0000,0x03ff,0x03ff,0x0387,0x0333,0x037b,0x037b,0x0333,0x0387,0x03ff,0x03ff,0x0000,0x00f0,0x0198,0x0198,
  0x0198,0x00fa,0x001e,0x000e,0x001e,0x0000,0x0000,0x0030,0x00fc,0x0030,0x0078,0x00cc,0x00cc,0x00cc,0x0078,0x0000,0x0000,0x0060,0x00f0,
  0x0070,0x0010,0x0014,0x0014,0x001c,0x0018,0x0010,0x0000,0x0080,0x01c4,0x00ce,0x0046,0x0042,0x0042,0x007e,0x007e,0x0000,0x0000,0x0030,
  0x01b6,0x0078,0x01ce,0x01ce,0x0078,0x01b6,0x0030,0x0000,0x0000,0x0040,0x0060,0x0070,0x0078,0x007c,0x0078,0x0070,0x0060,0x0040,0x0000,
  0x0004,0x000c,0x001c,0x003c,0x007c,0x003c,0x001c,0x000c,0x0004,0x0000,0x0030,0x0078,0x00fc,0x0030,0x0030,0x00fc,0x0078,0x0030,0x0000,
  0x0000,0x0000,0x00cc,0x0000,0x00cc,0x00cc,0x00cc,0x00cc,0x00cc,0x0000,0x0000,0x0000,0x0036,0x0036,0x0036,0x00f6,0x01b6,0x01b6,0x00fe,
  0x0000,0x0000,0x0000,0x007c,0x0006,0x007c,0x00c6,0x007c,0x00c0,0x007c,0x0000,0x0000,0x0000,0x01fe,0x01fe,0x01fe,0x0000,0x0000,0x0000,
  0x0000,0x0000,0x03ff,0x0030,0x0078,0x00fc,0x0030,0x0030,0x00fc,0x0078,0x0030,0x0000,0x0000,0x0030,0x0030,0x0030,0x0030,0x0030,0x00fc,
  0x0078,0x0030,0x0000,0x0000,0x0030,0x0078,0x00fc,0x0030,0x0030,0x0030,0x0030,0x0030,0x0000,0x0000,0x0000,0x0000,0x0018,0x000c,0x01fe,
  0x000c,0x0018,0x0000,0x0000,0x0000,0x0000,0x0000,0x0060,0x00c0,0x01fe,0x00c0,0x0060,0x0000,0x0000,0x0000,0x0000,0x01fe,0x0180,0x0180,
  0x0180,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0044,0x00c6,0x01ff,0x00c6,0x0044,0x0000,0x0000,0x0000,0x0000,0x0000,0x01ff,
  0x00fe,0x007c,0x0038,0x0010,0x0000,0x0000,0x0000,0x0000,0x0000,0x0010,0x0038,0x007c,0x00fe,0x01ff,0x0000,0x0000,0x0000,0x0000,0x0000,
  0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0030,0x0000,0x0030,0x0030,0x0078,0x0078,0x0030,0x0000,0x0000,0x0000,
  0x0000,0x0000,0x0000,0x0000,0x006c,0x006c,0x006c,0x0000,0x0000,0x0000,0x006c,0x006c,0x01ff,0x006c,0x01ff,0x006c,0x006c,0x0000,0x0000,
  0x0010,0x007c,0x00d6,0x0016,0x007c,0x00d0,0x00d6,0x007c,0x0010,0x0000,0x0000,0x0000,0x00c6,0x0066,0x0030,0x0018,0x00cc,0x00c6,0x0000,
  0x0000,0x0000,0x0076,0x00cc,0x00cc,0x007e,0x00cc,0x00cc,0x0070,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0060,0x0030,0x0038,
  0x0000,0x0000,0x0000,0x0018,0x0030,0x0060,0x0060,0x0060,0x0030,0x0018,0x0000,0x0000,0x0000,0x0060,0x0030,0x0018,0x0018,0x0018,0x0030,
  0x0060,0x0000,0x0000,0x0000,0x0000,0x00cc,0x0078,0x01fe,0x0078,0x00cc,0x0000,0x0000,0x0000,0x0000,0x0000,0x0030,0x0030,0x00fc,0x0030,
  0x0030,0x0000,0x0000,0x0000,0x0060,0x0030,0x0030,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x00fc,
  0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0030,0x0030,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0180,0x00c0,0x0060,
  0x0030,0x0018,0x000c,0x0006,0x0000,0x0000,0x0000,0x007c,0x00e6,0x00f6,0x00fe,0x00de,0x00ce,0x007c,0x0000,0x0000,0x0000,0x00fc,0x0030,
  0x0030,0x0030,0x0030,0x0070,0x0030,0x0000,0x0000,0x0000,0x00fe,0x00c6,0x0060,0x003c,0x0006,0x00c6,0x007c,0x0000,0x0000,0x0000,0x007c,
  0x00c6,0x0006,0x001c,0x0006,0x00c6,0x007c,0x0000,0x0000,0x0000,0x001e,0x000c,0x00fe,0x00cc,0x006c,0x003c,0x001c,0x0000,0x0000,0x0000,
  0x007c,0x00c6,0x0006,0x00fc,0x00c0,0x00c0,0x00fe,0x0000,0x0000,0x0000,0x007c,0x00c6,0x00c6,0x00fc,0x00c0,0x0060,0x003c,0x0000,0x0000,
  0x0000,0x0030,0x0030,0x0018,0x000c,0x0006,0x00c6,0x00fe,0x0000,0x0000,0x0000,0x007c,0x00c6,0x00c6,0x007c,0x00c6,0x00c6,0x007c,0x0000,
  0x0000,0x0000,0x0078,0x000c,0x0006,0x007e,0x00c6,0x00c6,0x007c,0x0000,0x0000,0x0000,0x0030,0x0030,0x0000,0x0000,0x0030,0x0030,0x0000,
  0x0000,0x0000,0x0060,0x0030,0x0030,0x0000,0x0000,0x0030,0x0030,0x0000,0x0000,0x0000,0x0000,0x000c,0x0018,0x0030,0x0060,0x0030,0x0018,
  0x000c,0x0000,0x0000,0x0000,0x0000,0x0000,0x00fc,0x0000,0x00fc,0x0000,0x0000,0x0000,0x0000,0x0000,0x0060,0x0030,0x0018,0x000c,0x0018,
  0x0030,0x0060,0x0000,0x0000,0x0030,0x0000,0x0030,0x0018,0x000c,0x000c,0x00cc,0x0078,0x0000,0x0000,0x0000,0x00fc,0x0180,0x019e,0x01b6,
  0x019e,0x0186,0x00fc,0x0000,0x0000,0x0000,0x00c6,0x00c6,0x00c6,0x00fe,0x00c6,0x00c6,0x007c,0x0000,0x0000,0x0000,0x00fc,0x00c6,0x00c6,
  0x00fc,0x00c6,0x00c6,0x00fc,0x0000,0x0000,0x0000,0x007c,0x00c6,0x00c0,0x00c0,0x00c0,0x00c6,0x007c,0x0000,0x0000,0x0000,0x00f8,0x00cc,
  0x00c6,0x00c6,0x00c6,0x00cc,0x00f8,0x0000,0x0000,0x0000,0x00fe,0x00c0,0x00c0,0x00fc,0x00c0,0x00c0,0x00fe,0x0000,0x0000,0x0000,0x00c0,
  0x00c0,0x00c0,0x00fc,0x00c0,0x00c0,0x00fe,0x0000,0x0000,0x0000,0x007c,0x00c6,0x00c6,0x00ce,0x00c0,0x00c6,0x007c,0x0000,0x0000,0x0000,
  0x00c6,0x00c6,0x00c6,0x00fe,0x00c6,0x00c6,0x00c6,0x0000,0x0000,0x0000,0x0078,0x0030,0x0030,0x0030,0x0030,0x0030,0x0078,0x0000,0x0000,
  0x0000,0x0078,0x00cc,0x00cc,0x000c,0x000c,0x000c,0x001c,0x0000,0x0000,0x0000,0x00c6,0x00c6,0x00cc,0x00f8,0x00cc,0x00c6,0x00c6,0x0000,
  0x0000,0x0000,0x00fe,0x00c0,0x00c0,0x00c0,0x00c0,0x00c0,0x00c0,0x0000,0x0000,0x0000,0x0186,0x0186,0x0186,0x01b6,0x01fe,0x01ce,0x0186,
  0x0000,0x0000,0x0000,0x00c6,0x00c6,0x00ce,0x00de,0x00f6,0x00e6,0x00c6,0x0000,0x0000,0x0000,0x007c,0x00c6,0x00c6,0x00c6,0x00c6,0x00c6,
  0x007c,0x0000,0x0000,0x0000,0x00c0,0x00c0,0x00c0,0x00fc,0x00c6,0x00c6,0x00fc,0x0000,0x0000,0x000e,0x007c,0x00ce,0x00c6,0x00c6,0x00c6,
  0x00c6,0x007c,0x0000,0x0000,0x0000,0x00c6,0x00c6,0x00cc,0x00fc,0x00c6,0x00c6,0x00fc,0x0000,0x0000,0x0000,0x007c,0x00c6,0x0006,0x007c,
  0x00c0,0x00c6,0x007c,0x0000,0x0000,0x0000,0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x01fe,0x0000,0x0000,0x0000,0x007c,0x00c6,0x00c6,
  0x00c6,0x00c6,0x00c6,0x00c6,0x0000,0x0000,0x0000,0x0010,0x0038,0x006c,0x00c6,0x00c6,0x00c6,0x00c6,0x0000,0x0000,0x0000,0x0186,0x01ce,
  0x01fe,0x01b6,0x0186,0x0186,0x0186,0x0000,0x0000,0x0000,0x0186,0x00cc,0x0078,0x0030,0x0078,0x00cc,0x0186,0x0000,0x0000,0x0000,0x0030,
  0x0030,0x0030,0x0078,0x00cc,0x0186,0x0186,0x0000,0x0000,0x0000,0x00fe,0x00c0,0x0060,0x0030,0x0018,0x000c,0x00fe,0x0000,0x0000,0x0000,
  0x0078,0x0060,0x0060,0x0060,0x0060,0x0060,0x0078,0x0000,0x0000,0x0000,0x0000,0x000c,0x0018,0x0030,0x0060,0x00c0,0x0180,0x0000,0x0000,
  0x0000,0x0078,0x0018,0x0018,0x0018,0x0018,0x0018,0x0078,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x00c6,0x006c,0x0038,0x0010,0x0000,
  0x0000,0x03ff,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0018,0x0030,0x0070,
  0x0000,0x0000,0x0000,0x007e,0x00c6,0x007e,0x0006,0x007c,0x0000,0x0000,0x0000,0x0000,0x0000,0x00fc,0x00c6,0x00c6,0x00c6,0x00fc,0x00c0,
  0x00c0,0x0000,0x0000,0x0000,0x007c,0x00c6,0x00c0,0x00c6,0x007c,0x0000,0x0000,0x0000,0x0000,0x0000,0x007e,0x00c6,0x00c6,0x00c6,0x007e,
  0x0006,0x0006,0x0000,0x0000,0x0000,0x007c,0x00c0,0x00fe,0x00c6,0x007c,0x0000,0x0000,0x0000,0x0000,0x0000,0x0060,0x0060,0x0060,0x00f8,
  0x0060,0x0060,0x003c,0x0000,0x007c,0x0006,0x007e,0x00c6,0x00c6,0x00c6,0x007e,0x0000,0x0000,0x0000,0x0000,0x0000,0x00c6,0x00c6,0x00c6,
  0x00c6,0x00fc,0x00c0,0x00c0,0x0000,0x0000,0x0000,0x0078,0x0030,0x0030,0x0030,0x0070,0x0000,0x0030,0x0000,0x0070,0x0018,0x0018,0x0018,
  0x0018,0x0018,0x0038,0x0000,0x0018,0x0000,0x0000,0x0000,0x00c6,0x00cc,0x00f8,0x00cc,0x00c6,0x00c0,0x00c0,0x0000,0x0000,0x0000,0x001c,
  0x0030,0x0030,0x0030,0x0030,0x0030,0x0070,0x0000,0x0000,0x0000,0x0186,0x01b6,0x01b6,0x01fe,0x00cc,0x0000,0x0000,0x0000,0x0000,0x0000,
  0x00c6,0x00c6,0x00c6,0x00c6,0x00fc,0x0000,0x0000,0x0000,0x0000,0x0000,0x007c,0x00c6,0x00c6,0x00c6,0x007c,0x0000,0x0000,0x0000,0x0000,
  0x00c0,0x00c0,0x00fc,0x00c6,0x00c6,0x00fc,0x0000,0x0000,0x0000,0x0000,0x0007,0x0006,0x007e,0x00c6,0x00c6,0x007e,0x0000,0x0000,0x0000,
  0x0000,0x0000,0x00c0,0x00c0,0x00c0,0x00c6,0x00fc,0x0000,0x0000,0x0000,0x0000,0x0000,0x00fc,0x0006,0x007c,0x00c0,0x007e,0x0000,0x0000,
  0x0000,0x0000,0x0000,0x003c,0x0060,0x0060,0x0060,0x00f8,0x0060,0x0060,0x0000,0x0000,0x0000,0x007e,0x00c6,0x00c6,0x00c6,0x00c6,0x0000,
  0x0000,0x0000,0x0000,0x0000,0x0010,0x0038,0x006c,0x00c6,0x00c6,0x0000,0x0000,0x0000,0x0000,0x0000,0x00cc,0x01fe,0x01b6,0x01b6,0x0186,
  0x0000,0x0000,0x0000,0x0000,0x0000,0x00c6,0x006c,0x0038,0x006c,0x00c6,0x0000,0x0000,0x0000,0x0000,0x007c,0x0006,0x007e,0x00c6,0x00c6,
  0x00c6,0x0000,0x0000,0x0000,0x0000,0x0000,0x00fc,0x0060,0x0030,0x0018,0x00fc,0x0000,0x0000,0x0000,0x0000,0x0000,0x0038,0x0060,0x0060,
  0x00c0,0x0060,0x0060,0x0038,0x0000,0x0000,0x0030,0x0030,0x0030,0x0030,0x0000,0x0030,0x0030,0x0030,0x0030,0x0000,0x0000,0x0070,0x0018,
  0x0018,0x000c,0x0018,0x0018,0x0070,0x0000,0x0000,0x0000,0x0000,0x0000,0x001c,0x01b6,0x00e0,0x0000,0x0000,0x0000,0x0000,0x0000,0x00fe,
  0x00c6,0x00c6,0x00c6,0x006c,0x0038,0x0010,0x0000,0x0060,0x0030,0x007c,0x00c6,0x00c0,0x00c0,0x00c0,0x00c6,0x007c,0x0000,0x0000,0x0000,
  0x007e,0x00c6,0x00c6,0x00c6,0x00c6,0x0000,0x006c,0x0000,0x0000,0x0000,0x007c,0x00c0,0x00fe,0x00c6,0x007c,0x0000,0x0030,0x0018,0x0000,
  0x0000,0x007e,0x00c6,0x007e,0x0006,0x007c,0x0000,0x006c,0x0038,0x0000,0x0000,0x007e,0x00c6,0x007e,0x0006,0x007c,0x0000,0x006c,0x0000,
  0x0000,0x0000,0x007e,0x00c6,0x007e,0x0006,0x007c,0x0000,0x0018,0x0030,0x0000,0x0000,0x007e,0x00c6,0x007e,0x0006,0x007c,0x0038,0x006c,
  0x0038,0x0060,0x0030,0x007c,0x00c6,0x00c0,0x00c6,0x007c,0x0000,0x0000,0x0000,0x0000,0x0000,0x007c,0x00c0,0x00fe,0x00c6,0x007c,0x0000,
  0x006c,0x0038,0x0000,0x0000,0x007c,0x00c0,0x00fe,0x00c6,0x007c,0x0000,0x006c,0x0000,0x0000,0x0000,0x007c,0x00c0,0x00fe,0x00c6,0x007c,
  0x0000,0x0018,0x0030,0x0000,0x0000,0x0078,0x0030,0x0030,0x0030,0x0070,0x0000,0x00d8,0x0000,0x0000,0x0000,0x0078,0x0030,0x0030,0x0030,
  0x0070,0x0000,0x00d8,0x0070,0x0000,0x0000,0x0078,0x0030,0x0030,0x0030,0x0070,0x0000,0x0030,0x0060,0x0000,0x0000,0x00c6,0x00c6,0x00fe,
  0x00c6,0x007c,0x0000,0x006c,0x0000,0x0000,0x0000,0x00c6,0x00c6,0x00fe,0x00c6,0x007c,0x0038,0x006c,0x0038,0x0000,0x0000,0x00fe,0x00c0,
  0x00fc,0x00c0,0x00fe,0x0000,0x0030,0x0018,0x0000,0x0000,0x00ee,0x01b8,0x00ff,0x003b,0x00ee,0x0000,0x0000,0x0000,0x0000,0x0000,0x019e,
  0x0198,0x0198,0x01fe,0x0198,0x00d8,0x007e,0x0000,0x0000,0x0000,0x007c,0x00c6,0x00c6,0x00c6,0x007c,0x0000,0x006c,0x0038,0x0000,0x0000,
  0x007c,0x00c6,0x00c6,0x00c6,0x007c,0x0000,0x006c,0x0000,0x0000,0x0000,0x007c,0x00c6,0x00c6,0x00c6,0x007c,0x0000,0x0018,0x0030,0x0000,
  0x0000,0x007e,0x00c6,0x00c6,0x00c6,0x00c6,0x0000,0x006c,0x0038,0x0000,0x0000,0x007e,0x00c6,0x00c6,0x00c6,0x00c6,0x0000,0x0018,0x0030,
  0x0000,0x007c,0x0006,0x007e,0x00c6,0x00c6,0x00c6,0x0000,0x006c,0x0000,0x0000,0x0000,0x007c,0x00c6,0x00c6,0x00c6,0x007c,0x0000,0x006c,
  0x0000,0x0000,0x0000,0x007e,0x00c6,0x00c6,0x00c6,0x00c6,0x0000,0x006c,0x0000,0x0000,0x0010,0x007c,0x00d6,0x00d0,0x00d6,0x007c,0x0010,
  0x0000,0x0000,0x0000,0x00fe,0x00c0,0x0060,0x0060,0x00f8,0x0060,0x0066,0x003c,0x0000,0x0000,0x0030,0x00fc,0x0030,0x00fc,0x0078,0x00cc,
  0x0186,0x0186,0x0000,0x0000,0x019c,0x01b0,0x01b0,0x01fc,0x01b6,0x01b6,0x0186,0x01fc,0x0000,0x0000,0x00e0,0x0030,0x0030,0x0030,0x0078,
  0x0030,0x0030,0x001c,0x0000,0x0000,0x0000,0x007e,0x00c6,0x007e,0x0006,0x007c,0x0000,0x0030,0x0018,0x0000,0x0000,0x0078,0x0030,0x0030,
  0x0030,0x0070,0x0000,0x0060,0x0030,0x0000,0x0000,0x007c,0x00c6,0x00c6,0x00c6,0x007c,0x0000,0x0030,0x0018,0x0000,0x0000,0x007e,0x00c6,
  0x00c6,0x00c6,0x00c6,0x0000,0x0030,0x0018,0x0000,0x0000,0x00c6,0x00c6,0x00c6,0x00c6,0x00fc,0x0000,0x00dc,0x0076,0x0000,0x0000,0x00c6,
  0x00ce,0x00de,0x00f6,0x00e6,0x0000,0x00dc,0x0076,0x0000,0x0000,0x0000,0x0000,0x007c,0x00cc,0x007c,0x000c,0x0078,0x0000,0x0000,0x0000,
  0x0000,0x0000,0x0078,0x00cc,0x00cc,0x00cc,0x0078,0x0000,0x0000,0x0078,0x00cc,0x00c0,0x00c0,0x0060,0x0030,0x0000,0x0030,0x0000,0x0000,
  0x0000,0x00c0,0x00c0,0x00c0,0x00fe,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0006,0x0006,0x0006,0x00fe,0x0000,0x0000,0x0000,0x0000,
  0x0000,0x010e,0x008c,0x0046,0x002c,0x0090,0x0088,0x0084,0x0082,0x0000,0x0000,0x0102,0x008e,0x004a,0x002a,0x0090,0x0088,0x0084,0x0082,
  0x0000,0x0000,0x0000,0x0030,0x0078,0x0078,0x0030,0x0030,0x0000,0x0030,0x0000,0x0000,0x0000,0x0000,0x0066,0x00cc,0x0198,0x00cc,0x0066,
  0x0000,0x0000,0x0000,0x0000,0x0000,0x0198,0x00cc,0x0066,0x00cc,0x0198,0x0000,0x0000,0x0222,0x0088,0x0222,0x0088,0x0222,0x0088,0x0222,
  0x0088,0x0222,0x0088,0x02aa,0x0155,0x02aa,0x0155,0x02aa,0x0155,0x02aa,0x0155,0x02aa,0x0155,0x03bb,0x02ee,0x03bb,0x02ee,0x03bb,0x02ee,
  0x03bb,0x02ee,0x03bb,0x02ee,0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x03f0,
  0x03f0,0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x03f0,0x03f0,0x0030,0x0030,0x03f0,0x03f0,0x0030,0x0030,0x00cc,0x00cc,0x00cc,0x00cc,
  0x03cc,0x03cc,0x00cc,0x00cc,0x00cc,0x00cc,0x00cc,0x00cc,0x00cc,0x00cc,0x03fc,0x03fc,0x0000,0x0000,0x0000,0x0000,0x0030,0x0030,0x03f0,
  0x03f0,0x0030,0x0030,0x03f0,0x03f0,0x0000,0x0000,0x00cc,0x00cc,0x03cc,0x03cc,0x000c,0x000c,0x03cc,0x03cc,0x00cc,0x00cc,0x00cc,0x00cc,
  0x00cc,0x00cc,0x00cc,0x00cc,0x00cc,0x00cc,0x00cc,0x00cc,0x00cc,0x00cc,0x03cc,0x03cc,0x000c,0x000c,0x03fc,0x03fc,0x0000,0x0000,0x0000,
  0x0000,0x03fc,0x03fc,0x000c,0x000c,0x03cc,0x03cc,0x00cc,0x00cc,0x0000,0x0000,0x0000,0x0000,0x03fc,0x03fc,0x00cc,0x00cc,0x00cc,0x00cc,
  0x0000,0x0000,0x03e0,0x03e0,0x0060,0x0060,0x03e0,0x03e0,0x0060,0x0060,0x0030,0x0030,0x0030,0x0030,0x03f0,0x03f0,0x0000,0x0000,0x0000,
  0x0000,0x0000,0x0000,0x0000,0x0000,0x003f,0x003f,0x0030,0x0030,0x0030,0x0030,0x0000,0x0000,0x0000,0x0000,0x03ff,0x03ff,0x0030,0x0030,
  0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x03ff,0x03ff,0x0000,0x0000,0x0000,0x0000,0x0030,0x0030,0x0030,0x0030,0x003f,0x003f,0x0030,
  0x0030,0x0030,0x0030,0x0000,0x0000,0x0000,0x0000,0x03ff,0x03ff,0x0000,0x0000,0x0000,0x0000,0x0030,0x0030,0x0030,0x0030,0x03ff,0x03ff,
  0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x003f,0x003f,0x0030,0x0030,0x003f,0x003f,0x0030,0x0030,0x00cc,0x00cc,0x00cc,0x00cc,0x00cf,
  0x00cf,0x00cc,0x00cc,0x00cc,0x00cc,0x0000,0x0000,0x00ff,0x00ff,0x00c0,0x00c0,0x00cf,0x00cf,0x00cc,0x00cc,0x00cc,0x00cc,0x00cf,0x00cf,
  0x00c0,0x00c0,0x00ff,0x00ff,0x0000,0x0000,0x0000,0x0000,0x03ff,0x03ff,0x0000,0x0000,0x03cf,0x03cf,0x00cc,0x00cc,0x00cc,0x00cc,0x03cf,
  0x03cf,0x0000,0x0000,0x03ff,0x03ff,0x0000,0x0000,0x00cc,0x00cc,0x00cf,0x00cf,0x00c0,0x00c0,0x00cf,0x00cf,0x00cc,0x00cc,0x0000,0x0000,
  0x03ff,0x03ff,0x0000,0x0000,0x03ff,0x03ff,0x0000,0x0000,0x00cc,0x00cc,0x03cf,0x03cf,0x0000,0x0000,0x03cf,0x03cf,0x00cc,0x00cc,0x0000,
  0x0000,0x03ff,0x03ff,0x0000,0x0000,0x03ff,0x03ff,0x0030,0x0030,0x0000,0x0000,0x0000,0x0000,0x03ff,0x03ff,0x00cc,0x00cc,0x00cc,0x00cc,
  0x0030,0x0030,0x03ff,0x03ff,0x0000,0x0000,0x03ff,0x03ff,0x0000,0x0000,0x00cc,0x00cc,0x00cc,0x00cc,0x03ff,0x03ff,0x0000,0x0000,0x0000,
  0x0000,0x0000,0x0000,0x0000,0x0000,0x00ff,0x00ff,0x00cc,0x00cc,0x00cc,0x00cc,0x0000,0x0000,0x003f,0x003f,0x0030,0x0030,0x003f,0x003f,
  0x0030,0x0030,0x0030,0x0030,0x003f,0x003f,0x0030,0x0030,0x003f,0x003f,0x0000,0x0000,0x00cc,0x00cc,0x00cc,0x00cc,0x00ff,0x00ff,0x0000,
  0x0000,0x0000,0x0000,0x00cc,0x00cc,0x00cc,0x00cc,0x03cf,0x03cf,0x00cc,0x00cc,0x00cc,0x00cc,0x0030,0x0030,0x03ff,0x03ff,0x0000,0x0000,
  0x03ff,0x03ff,0x0030,0x0030,0x0000,0x0000,0x0000,0x0000,0x03f0,0x03f0,0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x003f,
  0x003f,0x0000,0x0000,0x0000,0x0000,0x03ff,0x03ff,0x03ff,0x03ff,0x03ff,0x03ff,0x03ff,0x03ff,0x03ff,0x03ff,0x03ff,0x03ff,0x03ff,0x03ff,
  0x03ff,0x0000,0x0000,0x0000,0x0000,0x0000,0x03e0,0x03e0,0x03e0,0x03e0,0x03e0,0x03e0,0x03e0,0x03e0,0x03e0,0x03e0,0x001f,0x001f,0x001f,
  0x001f,0x001f,0x001f,0x001f,0x001f,0x001f,0x001f,0x0000,0x0000,0x0000,0x0000,0x0000,0x03ff,0x03ff,0x03ff,0x03ff,0x03ff,0x0000,0x0000,
  0x0076,0x00dc,0x00c8,0x00dc,0x0076,0x0000,0x0000,0x0000,0x0000,0x00c0,0x00dc,0x00c6,0x00cc,0x00d8,0x00cc,0x00cc,0x0078,0x0000,0x0000,
  0x0000,0x00c0,0x00c0,0x00c0,0x00c0,0x00c0,0x00c6,0x00fe,0x0000,0x0000,0x0000,0x00cc,0x00cc,0x00cc,0x00cc,0x00cc,0x01fe,0x0000,0x0000,
  0x0000,0x0000,0x00fe,0x0060,0x0030,0x0018,0x0030,0x0060,0x00fe,0x0000,0x0000,0x0000,0x0078,0x00cc,0x00cc,0x00d8,0x007e,0x0000,0x0000,
  0x0000,0x0000,0x0180,0x0180,0x01f6,0x019c,0x018c,0x018c,0x0000,0x0000,0x0000,0x0000,0x0000,0x0018,0x0030,0x0030,0x0030,0x00fc,0x0000,
  0x0000,0x0000,0x0000,0x0078,0x0030,0x00fc,0x01b6,0x01b6,0x00fc,0x0030,0x0078,0x0000,0x0000,0x0000,0x0078,0x00cc,0x00cc,0x00fc,0x00cc,
  0x00cc,0x0078,0x0000,0x0000,0x0000,0x00ee,0x006c,0x00c6,0x00c6,0x00c6,0x00c6,0x007c,0x0000,0x0000,0x0000,0x007c,0x00c6,0x00c6,0x007c,
  0x0018,0x0030,0x007c,0x0000,0x0000,0x0000,0x00ee,0x01b3,0x0193,0x019b,0x00ee,0x0000,0x0000,0x0000,0x0000,0x0180,0x00fc,0x01e6,0x01b6,
  0x019e,0x00fc,0x0006,0x0000,0x0000,0x0000,0x0000,0x007c,0x00c0,0x0078,0x00c0,0x007c,0x0000,0x0000,0x0000,0x0000,0x0000,0x00c6,0x00c6,
  0x00c6,0x00c6,0x00c6,0x00c6,0x007c,0x0000,0x0000,0x0000,0x0000,0x00fc,0x0000,0x00fc,0x0000,0x00fc,0x0000,0x0000,0x0000,0x0000,0x00fc,
  0x0000,0x0030,0x0030,0x00fc,0x0030,0x0030,0x0000,0x0000,0x0000,0x00fc,0x0000,0x0018,0x0030,0x0060,0x0030,0x0018,0x0000,0x0000,0x0000,
  0x00fc,0x0000,0x0060,0x0030,0x0018,0x0030,0x0060,0x0000,0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x0036,0x0036,0x001c,0x0000,0x0000,
  0x00e0,0x01b0,0x01b0,0x0030,0x0030,0x0030,0x0030,0x0030,0x0030,0x0000,0x0000,0x0000,0x0030,0x0000,0x00fc,0x0000,0x0030,0x0000,0x0000,
  0x0000,0x0000,0x001c,0x01b6,0x00e0,0x0000,0x001c,0x01b6,0x00e0,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0038,0x006c,0x006c,0x0038,
  0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0030,0x0030,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0030,0x0000,0x0000,
  0x0000,0x0000,0x0008,0x0018,0x0038,0x0078,0x00d8,0x0198,0x0018,0x0018,0x001f,0x0000,0x0000,0x0000,0x0000,0x0000,0x00cc,0x00cc,0x00cc,
  0x00cc,0x00f8,0x0000,0x0000,0x0000,0x0000,0x0000,0x007c,0x0060,0x0038,0x000c,0x0078,0x0000,0x0000,0x0000,0x0000,0x0078,0x0078,0x0078,
  0x0078,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,
];


// ////////////////////////////////////////////////////////////////////////// //
/// returns `fontBase` to be passed to `oglDrawFont10()`
public GLuint oglCreateFont10(bool upsideDown=false) () nothrow @trusted @nogc {
  //glFontCreateBitmap();
  GLuint fontBase = glGenLists(256);
  glPixelStorei(GL_UNPACK_ALIGNMENT, 1);
  foreach (immutable uint cidx; 0..256) {
    glNewList(fontBase+cidx, GL_COMPILE);
    static if (upsideDown) {
      enum yofs = 0;
    } else {
      int yofs = 0;
      auto fpp = (cast(const(ushort)*)glFont10.ptr)+cidx*glFont10Height;
      while (yofs < glFont10Height && fpp[yofs] == 0) ++yofs;
    }
    glBitmap(glFont10Width, glFont10Height, 0, yofs, glFont10Width, 0, (cast(const(ubyte*))glFont10.ptr)+cidx*(glFont10Height*2));
    glEndList();
  }
  return fontBase;
}


/// background is automatically transparent
public void oglDrawFont10(bool upsideDown=false) (GLuint fontBase, int x, int y, const(char)[] str) nothrow @trusted @nogc {
  if (fontBase == 0 || str.length == 0) return;
  glPushAttrib(/*GL_ENABLE_BIT|GL_CURRENT_BIT|*/GL_LIST_BIT); // GL_ALL_ATTRIB_BITS
  //glEnable(GL_BLEND);
  //glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
  scope(exit) glPopAttrib();
  static if (!upsideDown) {
    GLint[4] vport = void;
    glGetIntegerv(GL_VIEWPORT, vport.ptr);
    y = vport.ptr[3]-y-glFont10Height;
  }
  glWindowPos2i(x, y);
  glListBase(fontBase);
  glCallLists(str.length, GL_UNSIGNED_BYTE, cast(void*)str.ptr);
}
}
